<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Кхуддака Никая</title>
<style>
  :root {
    --bg-color: #161923;
    --accent-color: #FFE082;
    --text-main: #E2E8F0;
    --text-dim: #94A3B8;
    --card-bg: rgba(255, 255, 255, 0.03);
    --card-hover: rgba(255, 255, 255, 0.06);
    --border-color: #2D3748;
  }
  * { box-sizing: border-box; }
  body {
    max-width: 800px;
    margin: 0 auto;
    padding: 15px;
    font-family: -apple-system, sans-serif;
    background-color: var(--bg-color);
    color: var(--text-main);
    line-height: 1.5;
    -webkit-tap-highlight-color: transparent;
    padding-bottom: 80px;
  }
  .main-title {
    text-align: center;
    color: var(--accent-color);
    font-size: 1.5rem;
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 2px;
    margin-bottom: 6px;
  }
  .main-subtitle {
    text-align: center;
    color: var(--text-dim);
    font-size: 1rem;
    margin-bottom: 24px;
    line-height: 1.6;
  }
  /* Панель управления */
  .controls {
    display: flex;
    justify-content: center;
    gap: 15px;
    margin-bottom: 20px;
    flex-wrap: wrap;
  }
  .control-btn {
    background: var(--card-bg);
    border: 1px solid var(--border-color);
    color: var(--text-main);
    padding: 8px 16px;
    border-radius: 30px;
    font-size: 0.9rem;
    cursor: pointer;
    transition: 0.2s;
  }
  .control-btn:hover {
    background: var(--accent-color);
    color: #161923;
    border-color: var(--accent-color);
  }
  /* Основной раздел */
  details.section-group {
    margin-bottom: 12px;
    border: 1px solid var(--border-color);
    border-radius: 14px;
    background: var(--card-bg);
    overflow: hidden;
  }
  summary.section-summary {
    padding: 16px;
    list-style: none;
    cursor: pointer;
    background-color: var(--accent-color);
    color: #161923;
    font-weight: 800;
    font-size: 1.2rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    text-transform: uppercase;
  }
  summary::-webkit-details-marker { display: none; }
  summary::after { content: "▼"; font-size: 0.6rem; transition: 0.3s; }
  details[open] > summary::after { transform: rotate(180deg); }

  /* Дополнительный блок для введения */
  details.intro-group {
    margin-bottom: 20px;
    border: 1px solid var(--border-color);
    border-radius: 14px;
    background: var(--card-bg);
    overflow: hidden;
  }
  summary.intro-summary {
    padding: 14px;
    list-style: none;
    cursor: pointer;
    background: rgba(255,224,130,0.08);
    color: var(--accent-color);
    font-weight: 600;
    font-size: 1rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  summary.intro-summary::after { content: "▼"; font-size: 0.6rem; transition: 0.3s; }
  details.intro-group[open] > summary.intro-summary::after { transform: rotate(180deg); }
  .intro-text {
    padding: 15px;
    font-size: 0.95rem;
    color: var(--text-dim);
    border-top: 1px solid var(--border-color);
  }

  /* Карточка книги */
  .sutta-card {
    display: grid;
    grid-template-columns: 36px 1fr;
    gap: 8px;
    padding: 12px 14px;
    text-decoration: none;
    color: inherit;
    border-bottom: 1px solid var(--border-color);
    border-left: 3px solid transparent;
    transition: background 0.2s, border-left-color 0.2s;
    align-items: start;
  }
  .sutta-card:hover {
    background: var(--card-hover);
    border-left-color: var(--accent-color);
  }
  .sutta-card:last-child { border-bottom: none; }
  .sutta-card.no-link:hover {
    background: transparent;
    border-left-color: transparent;
    cursor: default;
  }

  .num {
    color: var(--accent-color);
    font-family: monospace;
    font-size: 1.5rem;
    font-weight: bold;
    text-align: center;
  }
  .sutta-title {
    font-weight: 700;
    font-size: 1.5rem;
    color: var(--accent-color);
    margin-bottom: 2px;
  }
  .sutta-subtitle {
    font-size: 1.2rem;
    color: var(--text-dim);
    font-style: italic;
  }
  .sutta-note {
    font-size: 1rem;
    color: var(--text-dim);
    margin-top: 2px;
  }

  /* Кнопка наверх */
  .go-top {
    position: fixed;
    bottom: 60px;
    right: 20px;
    background: var(--accent-color);
    color: #161923;
    width: 50px;
    height: 50px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    cursor: pointer;
    border: none;
    box-shadow: 0 4px 10px rgba(0,0,0,0.3);
    transition: 0.2s;
    opacity: 0.8;
    z-index: 1000;
  }
  .go-top:hover {
    opacity: 1;
    transform: scale(1.1);
  }
  .sutta-card.no-link {
  opacity: 0.6;
  cursor: default;
  border-left-color: transparent !important;
}
.sutta-card.no-link:hover {
  background: transparent;
  border-left-color: transparent;
}
.sutta-card.no-link .sutta-title {
  color: var(--text-dim);
}
  /* Стили для неактивных карточек (без ссылки) */
.sutta-card.no-link {
  opacity: 0.55;                /* Полупрозрачность */
  cursor: default;              /* Обычный курсор, не указатель */
  border-left-color: transparent !important; /* Убираем цветную полоску слева */
  transition: none;             /* Отключаем анимацию */
  pointer-events: none;         /* Запрещаем любые клики (на всякий случай) */
}

.sutta-card.no-link:hover {
  background: transparent;      /* Убираем подсветку при наведении */
  border-left-color: transparent !important;
}

.sutta-card.no-link .sutta-title {
  color: var(--text-dim);       /* Делаем заголовок бледным */
}

.sutta-card.no-link .num {
  color: var(--text-dim);       /* И номер тоже бледным */
}

/* Альтернативный вариант: добавить метку "нет перевода" */
.sutta-card.no-link .sutta-title::after {
  content: " (нет перевода)";
  font-size: 0.8rem;
  color: var(--text-dim);
  font-style: italic;
  margin-left: 5px;
  font-weight: normal;
}
</style>
</head>
<body>
<br>
<div class="main-title">Кхуддака Никая</div>
<div class="main-subtitle">
  «Меньшее собрание» – пятая и последняя никая Сутта-Питаки. Содержит от 15 до 18 книг в зависимости от редакции Канона.
</div>

<!-- Панель управления -->
<div class="controls">
  <button class="control-btn" id="expandAll">Развернуть все</button>
  <button class="control-btn" id="collapseAll">Свернуть все</button>
</div>

<!-- Введение (раскрывающийся блок) -->
<details class="intro-group" id="intro">
  <summary class="intro-summary">Подробнее о Кхуддака Никае</summary>
  <div class="intro-text">
    <p>Кхуддака Никая («Меньшее собрание») – пятая и последняя из никай сутта-питаки. В ней содержится от 15 до 18 книг в зависимости от редакции Канона, в которые включены многочисленные сутты на различные темы, приписываемые Будде или его ученикам.</p>
    <p>Профессор Хиракара Акира утверждает, что в Кхуддаку изначально были включены тексты, которые не вошли в четыре остальных никаи, а затем сюда стали добавлять и новые тексты, ранее не входившие в Канон. Оливер Обейнаяке говорит: «Кхуддака Никаю можно легко поделить на две части – раннюю и позднюю. К ранним текстам относятся Суттанипата, Итивуттака, Дхаммапада, Тхеригатха, Тхерагатха, Удана и Джатаки. А к более поздним можно отнести Кхуддакапатху, Виманаваттху, Петаваттху, Нидессу, Патисамбиду, Ападану, Буддхавамсу и Чарияпитаку».</p>
  </div>
</details>

<!-- Книги Кхуддака Никаи -->
<details class="section-group" id="section-1" open>
  <summary class="section-summary">Книги Кхуддака Никаи</summary>

  <!-- Кхуддакапатха (без ссылки) -->
  <div class="sutta-card no-link">
    <div class="num">●</div>
    <div>
      <div class="sutta-title">Кхуддакапатха</div>
    </div>
  </div>

  <!-- Дхаммапада (со ссылкой) -->
  <a class="sutta-card" href="dhammapada.html">
    <div class="num">●</div>
    <div>
      <div class="sutta-title">Дхаммапада</div>
    </div>
  </a>

  <!-- Удана (со ссылкой) -->
  <a class="sutta-card" href="udana.html">
    <div class="num">●</div>
    <div>
      <div class="sutta-title">Удана</div>
    </div>
  </a>

  <!-- Итивуттака (со ссылкой) -->
  <a class="sutta-card" href="itivuttaka.html">
    <div class="num">●</div>
    <div>
      <div class="sutta-title">Итивуттака</div>
    </div>
  </a>

  <!-- Суттанипата (со ссылкой) -->
  <a class="sutta-card" href="suttanipata.html">
    <div class="num">●</div>
    <div>
      <div class="sutta-title">Суттанипата</div>
    </div>
  </a>

  <!-- Виманаваттху (без ссылки) -->
  <div class="sutta-card no-link">
    <div class="num">●</div>
    <div>
      <div class="sutta-title">Виманаваттху</div>
    </div>
  </div>

  <!-- Петаваттху (без ссылки) -->
  <div class="sutta-card no-link">
    <div class="num">●</div>
    <div>
      <div class="sutta-title">Петаваттху</div>
    </div>
  </div>

  <!-- Тхерагатха (со ссылкой) -->
  <a class="sutta-card" href="theragatha.html">
    <div class="num">●</div>
    <div>
      <div class="sutta-title">Тхерагатха</div>
    </div>
  </a>

  <!-- Тхеригатха (со ссылкой) -->
  <a class="sutta-card" href="therigatha.html">
    <div class="num">●</div>
    <div>
      <div class="sutta-title">Тхеригатха</div>
    </div>
  </a>

  <!-- Джатака (со ссылкой) -->
  <a class="sutta-card" href="jataka.html">
    <div class="num">●</div>
    <div>
      <div class="sutta-title">Джатака</div>
    </div>
  </a>

  <!-- Нидесса (без ссылки) -->
  <div class="sutta-card no-link">
    <div class="num">●</div>
    <div>
      <div class="sutta-title">Нидесса</div>
    </div>
  </div>

  <!-- Патисамбидамагга (без ссылки) -->
  <div class="sutta-card no-link">
    <div class="num">●</div>
    <div>
      <div class="sutta-title">Патисамбидамагга</div>
    </div>
  </div>

  <!-- Ападана (без ссылки) -->
  <div class="sutta-card no-link">
    <div class="num">●</div>
    <div>
      <div class="sutta-title">Ападана</div>
    </div>
  </div>

  <!-- Буддхавамса (без ссылки) -->
  <div class="sutta-card no-link">
    <div class="num">●</div>
    <div>
      <div class="sutta-title">Буддхавамса</div>
    </div>
  </div>

  <!-- Чарияпитака (со ссылкой) -->
  <a class="sutta-card" href="chariyapitaka.html">
    <div class="num">●</div>
    <div>
      <div class="sutta-title">Чарияпитака</div>
    </div>
  </a>

  <!-- Неттипакарана (с примечанием) -->
  <div class="sutta-card no-link">
    <div class="num">●</div>
    <div>
      <div class="sutta-title">Неттипакарана</div>
      <div class="sutta-note">(есть в бирманском и сингальском каноне, но нет в тайском)</div>
    </div>
  </div>

  <!-- Петакопадеса (с примечанием) -->
  <div class="sutta-card no-link">
    <div class="num">●</div>
    <div>
      <div class="sutta-title">Петакопадеса</div>
      <div class="sutta-note">(есть в бирманском и сингальском каноне, но нет в тайском)</div>
    </div>
  </div>

  <!-- Милиндапаньха (со ссылкой на PDF) -->
  <a class="sutta-card" href="../../Books/Milinda/milinda.pdf">
    <div class="num">●</div>
    <div>
      <div class="sutta-title">Милиндапаньха</div>
      <div class="sutta-note">(есть в бирманском каноне, но нет в тайском и сингальском)</div>
    </div>
  </a>
</details>

<br>

<!-- Кнопка наверх -->
<button class="go-top" id="goTopBtn" title="Наверх">↑</button>

<script>
  (function() {
    // Сохранение состояния открытых разделов
    const details = document.querySelectorAll('details.section-group, details.intro-group');
    const STORAGE_KEY = 'khuddaka-index-state';

    function loadState() {
      const saved = localStorage.getItem(STORAGE_KEY);
      if (saved) {
        try {
          const openIds = JSON.parse(saved);
          details.forEach(detail => {
            if (detail.id && openIds.includes(detail.id)) {
              detail.open = true;
            } else {
              detail.open = false;
            }
          });
        } catch (e) {}
      }
    }

    function saveState() {
      const openIds = [];
      details.forEach(detail => {
        if (detail.open && detail.id) {
          openIds.push(detail.id);
        }
      });
      localStorage.setItem(STORAGE_KEY, JSON.stringify(openIds));
    }

    details.forEach(detail => {
      detail.addEventListener('toggle', saveState);
    });

    loadState();

    document.getElementById('expandAll').addEventListener('click', () => {
      details.forEach(d => d.open = true);
      saveState();
    });

    document.getElementById('collapseAll').addEventListener('click', () => {
      details.forEach(d => d.open = false);
      saveState();
    });

    document.getElementById('goTopBtn').addEventListener('click', () => {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });
  })();
</script>

</body>
</html>